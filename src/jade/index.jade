!!! 5
//[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]
//[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en">        <![endif]
//[if IE 8]>    <html class="no-js lt-ie9" lang="en">               <![endif]
//[if gt IE 8]> <html class="no-js" lang="en">                      <![endif]
html(class='no-js', lang='en')

  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
    meta(name='viewport', content='width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1')
    block head
    link(rel='apple-touch-icon', href='./groundwork/images/apple-icons/apple-touch-icon-precomposed.png')
    link(rel='apple-touch-icon', sizes='57x57', href='./groundwork/images/apple-icons/apple-touch-icon-57x57-precomposed.png')
    link(rel='apple-touch-icon', sizes='72x72', href='./groundwork/images/apple-icons/apple-touch-icon-72x72-precomposed.png')
    link(rel='apple-touch-icon', sizes='114x114', href='./groundwork/images/apple-icons/apple-touch-icon-114x114-precomposed.png')
    link(rel='apple-touch-icon', sizes='144x144', href='./groundwork/images/apple-icons/apple-touch-icon-144x144-precomposed.png')
    // jQuery
    script(type='text/javascript', src='//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js')
    script(type='text/javascript')
      window.jQuery || document.write('<script src="./groundwork/js/libs/jquery-1.9.1.min.js"><\\/script>')
    script(type='text/javascript', src='./groundwork/js/groundwork.all.js')
    // framework css
    link(type='text/css', rel='stylesheet', href='./groundwork/css/groundwork.css')
    // Groundy theme files
    link(type='text/css', rel='stylesheet', href='./css/groundy.css')
    //if IE
      link(type='text/css', rel='stylesheet', href='./groundwork/css/groundwork-ie.css')
    //if lt IE 9
      script(type='text/javascript', src='./groundwork/js/libs/html5shiv.min.js')
    title GroundworkCSS â™¥ A Responsive HTML5, CSS & Javascript Framework
    meta(name='description', content='GroundworkCSS is an open-source, responsive front-end framework packed with HTML5, CSS & Javascript components that enables rapid prototyping and responsive design.')
    meta(name='keywords', content='GroundworkCSS, html, html5, css, css3, javascript, jquery, framework, toolkit, components, coffeescript, haml, sass, compass')
    style(type='text/css')
      html, body {
        width:100%;
        height:100%;
        text-align:center;
        background:#333 url('./images/black_linen_v2.png') center repeat;
        overflow:hidden;
        color:#fff;
      }
    script(type='text/javascript')
      (function(a,b){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))window.location=b})(navigator.userAgent||navigator.vendor||window.opera,'./home.html');
      function querystring(key) {
        var re=new RegExp('(?:\\?|&)'+key+'=(.*?)(?=&|$)','gi');
        var r=[], m;
        while ((m=re.exec(document.location.search)) != null) r.push(m[1]);
        return r;
      }
      function basename(str) {
        var base = new String(str).substring(str.lastIndexOf('/') + 1);
        if(base.lastIndexOf(".") != -1) {
          base = base.substring(0, base.lastIndexOf("."));
        }
        return base;
      }
      function updateQueryStringParameter(uri, key, value) {
        var re = new RegExp("([?|&])" + key + "=.*?(&|$)", "i");
        separator = uri.indexOf('?') !== -1 ? "&" : "?";
        var url = window.location.href;
        if (uri.match(re)) {
          url = uri.replace(re, '$1' + key + "=" + value + '$2');
        }
        else {
          url = uri + separator + key + "=" + value;
        }
        return url;
      }
      $(document).ready(function() {
        $('body').on('click', 'a[data-viewport-width]', function(e) {
          if($(this).attr('data-viewport-width') == '100%') {
            newWidth = '100%';
          }else{
            newWidth = $(this).attr('data-viewport-width');
          }
          if($(this).attr('data-viewport-height') == '100%') {
            newHeight = '100%';
          }else{
            newHeight = $(this).attr('data-viewport-height');
          }
          $('a[data-viewport-width]').removeClass('active');
          $(this).addClass('active');
          $('#resizerFrame').stop().animate({'max-width': newWidth, 'max-height': newHeight}, 200);
          $('title').text('W: '+newWidth+', H: '+newHeight);
          e.preventDefault();
          return false;
        });
        $('body').on('click', 'a.rotate', function(e) {
          $(this).children('i[class*="icon"]').toggleClass('icon-landscape');
          $('a[data-rotate="true"]').each(function() {
            $(this).children('i[class*="icon"]').toggleClass('icon-landscape');
            width = $(this).attr('data-viewport-width');
            height = $(this).attr('data-viewport-height');
            // shuffle values
            $(this).attr('data-viewport-width', height);
            $(this).attr('data-viewport-height', width);
            if($(this).hasClass('active')) {
              $(this).trigger('click');
            }
          });
        });
        $('body').on('click', '#closeResizer', function(e) {
          newWidth = $(window).width();
          newHeight = $(window).height();
          $('a[data-viewport-width]').removeClass('active');
          $('#resizerFrame').stop().animate({'max-width': newWidth, 'max-height': newHeight}, 200);
          $('#resizer').fadeOut(500, function() {
            document.location = document.getElementById("resizerFrame").contentWindow.location.href;
          });
          e.preventDefault();
          return false;
        });
        if(querystring('url').length > 0) {
          $('#resizerFrame').attr('src',querystring('url'));
        }
        $('#resizerFrame').on('load', function() {
          var url = basename(this.contentWindow.location.href);
          var href = updateQueryStringParameter(document.location.href, 'url', url);
          var stateObj = { resizer: 'resizer' };
          history.pushState(stateObj, url, href);
        });
      });

  body.resizer
    div(style='position: fixed; top: 0; z-index: 99; width: 100%;')
      #resizer
        ul.button-list.pull-left
          li
            a.tooltip.active(title='Fullscreen', href='#', data-viewport-width='100%', data-viewport-height='100%')
              i.icon-fullscreen
          li
            a.tooltip(title="Desktop", href="#", data-viewport-width="1920", data-viewport-height="1080")
              i.icon-desktop
          li
            a.tooltip(title="MacBook", href="#", data-viewport-width="1280px", data-viewport-height="800px")
              i.icon-laptop
          li
            a.tooltip(title="iPad", href="#", data-rotate="true", data-viewport-width="768px", data-viewport-height="1024px")
              i.icon-tablet
          li
            a.tooltip(title="Android Tablet", href="#", data-rotate="true", data-viewport-width="720px", data-viewport-height="1280px")
              i.icon-tablet(style='font-size: 0.9em;')
          li
            a.tooltip(title="Android Phone", href="#", data-rotate="true", data-viewport-width="480px", data-viewport-height="720px")
              i.icon-mobile-phone
          li
            a.tooltip(title="iPhone", href="#", data-rotate="true", data-viewport-width="320px", data-viewport-height="640px")
              i.icon-mobile-phone(style='font-size: 0.9em;')
          li
            a.tooltip.rotate(title="Toggle Landscape/Portrait", href="#")
              i.icon-refresh
        a#closeResizer.pull-left(title='Close Resizer', href='./home.html')
          i.icon-remove
    iframe#resizerFrame(src='./home.html', frameborder='0')
